<!DOCTYPE html>
<html>
    <head>
        <meta charset = "UTF-8">
        <title>Know The Weather</title>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
        <link rel = "stylesheet" href = "assets/styles.css">
    </head>
    <body>
        <div class = "container">
            <div class = "row">
                <label for="searchCity">city name</label>
                <input id = "searchCity" value = ""/>
                <label for="searchState">sate name</label>
                <input id = "searchState" value = ""/>
                <label for="searchCountry">country code</label>
                <input id = "searchCountry" value = ""/>
                <button id = "searchBttn">Search</button>
            </div>
            <div class = "row" id = "placeHere"></div>
        </div>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script type="text/javascript">
            var APIkey = "d631c928c53d9d25575ca272ba298c2e";
            

            $("#searchBttn").click(Searching);

            function Searching(event){
                //preventDefault();
                var cityN = $("#searchCity").val();
                var stateN = checkState($("#searchState").val()); 
                var countryCode = $("#searchCountry").val();
                var queryURL = "http://api.openweathermap.org/data/2.5/forecast?q=" + cityN + "," + stateN + countryCode + "&appid=" + APIkey;
                
                function checkState(value){
                    var y = value + ",";
                    var z = "";
                    if (value == ""){
                        return z;
                    }
                    else {
                        return y;
                    }
                }

                $.ajax({
                    url:queryURL,
                    method: "GET",
                    //++++dataType: 'json',
                }).then(function(response){
                    
                    console.log(cityN);
                    console.log(stateN);
                    console.log(countryCode);
                    console.log(response);
                });
            }
            
        </script>
        
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
    </body>
</html>